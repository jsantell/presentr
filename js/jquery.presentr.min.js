/* presentr v1.0
 * jQuery Plugin for Presentations
 *
 * Tested on jQuery 1.2.3 - 1.6.2
 *
 * The MIT License, Copyright (c) 2011 Jordan Santell
 * http://github.com/jsantell/presentr
 */

(function(c){c.fn.presentr=function(n){var a=c.extend({},c.fn.presentr.defaults,n),h=!0,i={left:37,right:39},b=1,e={left:0,right:1},d=document.location,o=/(#[^ ]*)/,k=RegExp("#"+a.hashPrefix+"([0-9]+)"),f=c(window).width(),p=this,j=null,g=0;c("body").css("overflow","hidden");var l=function(){a.pageDisplay!==null&&a.pageDisplay.html(b+"/"+g)},q=function(m){f=c(window).width();p.each(function(){var b=m===e.right?-1:1,d=c(this);currentPosition=d.css("left");newPosition=parseInt(currentPosition)+f*b;
d.animate({left:newPosition},a.speed,"swing")});m===e.right?b++:b--;if(a.hashJump)d.hash?d.href=d.href.replace(o,"#"+a.hashPrefix+b):d.href+="#"+a.hashPrefix+b;l()};a.arrows===!0&&window.addEventListener("keydown",function(a){if(h===!0&&(a.keyCode===i.right&&b<g||a.keyCode===i.left&&b>1))r(),q(a.keyCode===i.right?e.right:e.left)},!0);var r=function(){h=!1;j&&clearTimeout(j);j=window.setTimeout(function(){h=!0},a.speed+100)},s=function(){if(a.hashJump&&k.test(d.href)){var c=d.href.match(k)[1];typeof b===
"number"&&(b=c)}};return function(a){s();return a.each(function(){g++;var a=c(this),d=(f-parseInt(a.css("width")))/2;currentDiff=(b-g)*-1;position=currentDiff*f+d;a.css("float","left");a.css("display","block");a.css("position","fixed");a.css("left",position);l()})}(this)};c.fn.presentr.defaults={speed:1E3,arrows:!0,hashJump:!0,hashPrefix:"slide",pageDisplay:null}})(jQuery);
